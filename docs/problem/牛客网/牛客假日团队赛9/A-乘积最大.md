# A-乘积最大

[TOC]

## 1、题目描述

今年是国际数学联盟确定的“2000——世界数学年”，又恰逢我国著名数学家华罗庚先生诞辰90周年。在华罗庚先生的家乡江苏金坛，组织了一场别开生面的数学智力竞赛的活动，你的一个好朋友XZ也有幸得以参加。活动中，主持人给所有参加活动的选手出了这样一道题目：
设有一个长度为N的数字串，要求选手使用K个乘号将它分成K+1个部分，找出一种分法，使得这K+1个部分的乘积能够为最大。
同时，为了帮助选手能够正确理解题意，主持人还举了如下的一个例子：
有一个数字串：`312`， 当`N=3，K=1`时会有以下两种分法：
`1) 3*12=36`
`2) 31*2=62`
这时，符合题目要求的结果是：`31*2=62`
现在，请你帮助你的好朋友XZ设计一个程序，求得正确的答案。

[链接](https://ac.nowcoder.com/acm/contest/1071/A)

### 输入描述:

```
第一行共有2个自然数N，K（6 ≤ N ≤ 40，1 ≤ K ≤ 6）
第二行是一个长度为N的数字串。
```

### 输出描述:

```
输出所求得的最大乘积（一个自然数）。
```

### 示例1

#### 输入

```
4 2
1231
```

#### 输出

```
62
```



## 2、解题思路

- 一共是N个数字
- 使用DFS，每次剩余的数字应该足够能够将所有的剩余的k个乘号放进去

```
python 3.5.2
```

```python
res = 0

def dfs(n, k, nums, cur_res):
    global res
    if cur_res == 0:
        return
    if k == 0:
        res = max(res, cur_res * int(nums))
    else:
        for i in range(1, n - k + 1):
            dfs(n - i, k - 1, nums[i:], int(nums[:i]) * cur_res)

            
N, K = map(int, input().strip().split(" "))
nums = input().strip()
dfs(N, K, nums,1)
print(res)

```

